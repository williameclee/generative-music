<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>ISTA301 Generative Music Demo</title>
    <script
      src="https://cdn.jsdelivr.net/npm/tone@14.8.49/build/Tone.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@tonejs/midi@2.0.27/build/Midi.js"></script>
    <script
      src="src/tonejs-instruments/Tonejs-Instruments.js"></script>
    <script type="module">
      const { PitchDetector } = await import('https://cdn.skypack.dev/pitchy');
      window.PitchDetector = PitchDetector;
    </script>
    <link rel="stylesheet" href="style/style.css" media="All">
  </head>
  <body>
    <h1>ISTA301 Generative Music Demo</h1>
    <!-- <input id="textInput" type="text" onkeydown="handleKey(event)"
    placeholder="Type something..." style="width: 100%;">
    <br> -->
    <div class="control-panel">
      <label for="bpmSlider">Tempo: <span id="bpmValue">100</span></label>
      <input type="range" min="60" max="160" value="100" step="2" class="slider"
        id="bpmSlider">
      <label for="instrumentSelect">Accompaniment instrument: </label>
      <select id="instrumentSelect"></select>
      <label>
        <input type="checkbox" id="ttsToggle" checked>
        Play text-to-speech
      </label>
    </div>
    <button onclick="playMelody()" id="playToggle">Play</button>
    <div id="meter">Metronome: </div>
    <pre id="log"></pre>

    <script src="src/soundtouch.js"></script>
    <script src="src/espeakng.js"></script>
    <script src="src/tts.js"></script>
    <script src="src/ux.js"></script>
    <script src="src/audio.js"></script>
  </body>
</html>
